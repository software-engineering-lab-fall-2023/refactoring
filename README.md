# عملی

## ریفکتور Facade
در کلاس پارسر کل ابجکت CodeGenerator قرار گرفته بود در حالی که فقط دو تابع از آن استفاده می‌شد ولی بقیه توابع نیز پابلیک بودند. این کلاس با کلاس جدید جایگزین شد. همچنین در کلاس CodeGenerator فقط به بعضی از توابع Memory نیاز بود که این کلاس نیز جایگزین شد. نام کلاس‌های جدید صرفا جهت واضح بودن محل تغییرات به این شکل انتخاب شده‌اند.

## استفاده از Strategy
کلاس اکشن چند حالت داشت و در تابع toString از فور استفاده کرده بود. این کلاس را ابسترکت کرده و کلاس‌های استراتژی را به عنوان فرزندان این کلاس تعریف کردیم و در نتیجه تابع toString نیز خالی شد.

## ریفکتور Seperate query from modifier
در کلاس مموری، تابع ‍`getDateAddress` همزمان مقدار را برگردانده و تغییر می‌داد. این تابع را به دو تابع شکسته و در محل استفاده از آن منطق اپدیت شدن بعد از گرفتن مقدار پیاده‌سازی شد.

## ریفکتو Extract constant
در کلاس توکن مقدار prime به صورت یک عدد جادویی لوکال تعریف شده بود که آن را به صورت یک کانستنت خارج کردیم.

## ریفکتور Self encapsulated field
در کلاس Parser از ابجکت rules به طور مستقیم استفاده شده بود که با تعریف getter و setter استفاده‌ها نیز جایگزین شدند.

## ریفکتور Extract method
در کلاس CodeGenerator یک تکه کد تکراری برای گرفتن VarType وجود داشت که با تعریف تابع، کدها جایگزین شدند.

# سوالات

## سوال ۱

کد تمیز کدی است که فهم و اصلاح آن بعد از مدت های طولانی برای خودمان و دیگران سخت نباشد.

بدهی فنی که به آن بدهی طراحی یا بدهی کد هم میگویند مفهومی در توسعه نرم افزار است که نشان دهنده کار ضمنی ایست که وقتی راه حلی آسان تر را انتخاب میکنیم تا زودتر محصول آماده شود به بار میاید. به این معنا که باید در آینده این هزینه پرداخته شود تا راه حل درست تر پیاده شود.

بوی بد نشان دهنده وجود مشکلات در عمق برنامه است. این مشکلات اصول پایه ای برنامه نویسی را نقض میکنند اما مانع عملکرد درست برنامه نمیشوند. این بو ها عمدتا روند توسعه را در آینده کند میکنند.

## سوال ۲
### bloaters 
کد هایی هستند که بیش از اندازه بزرگ شده اند و کار با آنها سخت شده است. این کد ها در لحظه خراب نمیشوند بلکه در طول زمان روی هم انباشته میشوند به خصوص وقتی کسی تلاشی نمیکند تا طول کد را اصلاح کند.

### object_orientation abusers

استفاده ناقص یا اشتباه از قواعد برنامه نویسی شی گرا. مثلا تعریف کردن فیلد موقتی در یک کلاس.

### change preventers

یعنی برای تغییر چیزی در یک بحش کد باید تغییرات زیادی را در بخش های دیگر کد ایجاد کنید. توسعه نرم افزار بسیار هزینه بر تر و پیچیده میشود.

### dispensables

کدی است که وجودش بیهوده است و نیازی به آن نیست و با پاک کردنش کد تمیز تر میشود و فهمش راحت تر میشوند و گاهی effcient تر هم میشود.

### couplers

coupling بیش از اندازه بین کلاس های مختلف

## سوال ۳
lazy class در دسته dispensable ها یا کد های بیهوده و غیر ضروری قرار میگیرد.

راه حل ها:

inline class: 
وقتی یک کلاس دارای کد کم و بدون منطق مرتبط به کاربردی خاص باشد میتوان قسمت هار مرتبط آن را به کلاس های دیگر منتقل کرد

collapse hierarchy:
وقتی کلاس فرزند هیچ چیزی از پدر خود به ارث نبرد میتوان سلسله مراتب را ترکیب کرده و از کمترین سلسله بندی استفاده کرد.

گاهی همچین کدی برای توسعه های آینده نیاز بوده و در آینده تکمیل خواهد شد بنابراین در لحظه برای جلوگیری از پیچیدگی کد آن را نادیده میگیریم
